!function(){var t={init:function(){this.$el=$("body"),this.$productList=$(".brand-product-lists"),this.$productWrapper=$(".product-list-wrapper"),this.productsNum=$(".product-list-wrapper").length,this.isWap=$("body").hasClass("wap"),this.viewWidth=$("body").width(),this.tweenliteOpen=new TimelineLite({pause:!0}),this.productTl=new TimelineLite({pause:!0}),this.time=null,this.listMargin=4,this.listMinWidth=0,this.listMaxWidth=1080,this.viewMaxWidth=1200,this.top=$(window).scrollTop()||0,this.winHeight=$(window).height(),this.initProductWidth(),this.addEventListener(),this.initLazyImg()},initLazyImg:function(){var t=this,e=1e3;t.viewWidth>=768?(t.$el.find("img.pc-show.lazy").each(function(){if($(this).offset().top-t.top-e<t.winHeight+$(this).height()&&$(this).data("src")){var i=new Image;i.src=$(this).data("src"),i.onload=function(){$(this).attr("src",$(this).data("src")).removeClass("lazy"),$(this).removeAttr("data-src")}.bind(this)}}),t.isWap&&t.$el.find("img.pad-show.lazy").each(function(){var t=new Image;t.src=$(this).data("src"),t.onload=function(){$(this).attr("src",$(this).data("src")).removeClass("lazy"),$(this).removeAttr("data-src")}.bind(this)})):t.$el.find("img.wap-show.lazy").each(function(){if($(this).offset().top-t.top-e<t.winHeight+$(this).height()&&$(this).data("src")){var i=new Image;i.src=$(this).data("src"),i.onload=function(){$(this).attr("src",$(this).data("src")).removeClass("lazy"),$(this).removeAttr("data-src")}.bind(this)}})},initProductWidth:function(){var t=this;if(t.$productWrapper.removeAttr("style"),$(".outer-text").removeAttr("style"),$(".outer-text-h2").removeAttr("style"),$(".outer-text-p").removeAttr("style"),$(".product-outer-img").removeAttr("style"),$(".inner-container-left").removeAttr("style"),$(".product-container-img").removeAttr("style"),t.isWap||t.viewWidth<768){t.$productWrapper.removeClass("active"),t.$productWrapper.eq(0).addClass("active");var e=t.$productWrapper.eq(0).data("id"),i=t.$productWrapper.eq(0).data("phonemodel"),r=t.$productWrapper.eq(0).data("title");setTimeout(function(){$("footer").attr("data-track",'{"type":"click","params":{"version":"2.1.0","cfrom":"6508","module_id":"'+e+'","module_name":"'+i+'","title":"'+r+'"}}').trigger("click").removeAttr("data-track")},100)}else{var a=(t.viewWidth-t.listMargin*(t.productsNum-1))/t.productsNum;t.productInitWidth=a,t.$productWrapper.css("width",a),$(".outer-text-h2").each(function(t,e){var i=(a-$(e).width())/2;$(e).attr("data-left",i),$(e).css("left",i+"px")}),$(".outer-text-p").each(function(t,e){var i=(a-$(e).width())/2;$(e).attr("data-left",i),$(e).css("left",i+"px")}),$(".product-outer-img>img").each(function(t,e){var i=(a-$(e).width())/2;$(e).attr("data-left",i),$(e).css("left",i+"px")})}},open:function(){var t=this;t.tweenliteOpen.timeScale(1).play()},close:function(){var t=this;t.tweenliteOpen.timeScale(1).reverse(),t.productTl.timeScale(1).play()},watchScroll:function(){var t=this;t.top=$(window).scrollTop(),t.initLazyImg()},watchResize:function(){var t=this;t.viewWidth=$("body").width(),t.winHeight=$(window).height(),t.initLazyImg(),!t.isWap&&t.initProductWidth()},throttle:function(t,e){var i=this,r=null;return function(){var a=arguments;clearTimeout(r),r=setTimeout(function(){t.apply(i,a)},e)}},addEventListener:function(){var t=this;t.$productWrapper.on("mouseenter",function(e){if(e.preventDefault(),t.isWap||t.viewWidth<768)return!1;var i=t.viewWidth>t.viewMaxWidth?t.viewWidth:t.viewMaxWidth;t.listMinWidth=(i-t.listMaxWidth)/(t.productsNum-1)-t.listMargin;var r=$(this).siblings(".product-list-wrapper").find(".product-outer-img >img"),a=new TimelineLite({paused:!0});a.add("start"),a.to($(this).siblings(".product-list-wrapper"),.35,{ease:Power1.easeInOut,width:t.listMinWidth,opacity:.5},"start").to($(this),.35,{ease:Power1.easeInOut,width:t.listMaxWidth,opacity:1,onComplete:function(){var t=$(this.target).data("id"),e=$(this.target).data("phonemodel"),i=$(this.target).data("title");$("footer").attr("data-track",'{"type":"click","params":{"version":"2.1.0","cfrom":"6508","module_id":"'+t+'","module_name":"'+e+'","title":"'+i+'"}}').trigger("click").removeAttr("data-track")}},"start").to($(".outer-text-h2"),.35,{ease:Power1.easeInOut,left:t.listMinWidth/2},"start").to($(this).find(".outer-text-h2"),.35,{ease:Power1.easeInOut,left:41},"start").to($(".outer-text-p"),.35,{ease:Power1.easeInOut,left:t.listMinWidth/2},"start").to($(this).find(".outer-text-p"),.35,{ease:Power1.easeInOut,left:41},"start").to(r,.35,{ease:Power1.easeInOut,left:t.listMinWidth/2},"start"),a.fromTo($(this).find(".product-outer-img"),.2,{opacity:1},{ease:Power1.easeInOut,opacity:0},"start"),a.add("middle","-=0.25"),a.fromTo([$(this).find(".inner-container-left"),$(this).find(".product-container-img")],.25,{opacity:0},{ease:Power1.easeOut,opacity:1},"middle"),a.fromTo([$(this).find(".inner-container-left"),$(this).find(".product-container-img")],.25,{y:200},{ease:Power1.easeOut,y:0},"middle"),t.tweenliteOpen=a,t.open()}).on("mouseleave",function(e){return e.preventDefault(),t.isWap||t.viewWidth<768?!1:(t.tweenliteOpen.remove(t.tweenliteOpen.getChildren().pop()),t.close(),void($(e.relatedTarget).parents(".brand-product-lists").length||$(e.relatedTarget).hasClass(".brand-product-lists")||(t.productTl.to(t.$productWrapper,.35,{ease:Power1.easeInOut,width:t.productInitWidth,opacity:1}),$(".product-list-wrapper").each(function(e,i){t.productTl.to($(i).find(".outer-text-h2"),.35,{ease:Power1.easeInOut,left:$(i).find(".outer-text-h2").attr("data-left")},"-=0.35"),t.productTl.to($(i).find(".outer-text-p"),.35,{ease:Power1.easeInOut,left:$(i).find(".outer-text-p").attr("data-left")},"-=0.35"),t.productTl.to($(i).find(".product-outer-img >img"),.35,{ease:Power1.easeInOut,left:$(i).find(".product-outer-img >img").attr("data-left")},"-=0.35")}),t.productTl.play())))}),t.$productWrapper.on("click",function(){if((t.isWap||t.viewWidth<768)&&!$(this).hasClass("active")){t.$productWrapper.removeClass("active"),$(this).addClass("active");var e=$(this).data("id"),i=$(this).data("phonemodel"),r=$(this).data("title");$("footer").attr("data-track",'{"type":"click","params":{"version":"2.1.0","cfrom":"6508","module_id":"'+e+'","module_name":"'+i+'","title":"'+r+'"}}').trigger("click").removeAttr("data-track")}}),$(window).resize(t.throttle(t.watchResize,200)),$(window).scroll(t.throttle(t.watchScroll,200)),$(".story-list-wrapper.video-wrapper,.inner-container-left .video-play-btn").on("click",function(){var e=$(this).data("url"),i=$(this).data("poster");t.videoPlay=new Video({mount:"#J_video",url:e,post:i})})}};$(function(){t.init()})}();